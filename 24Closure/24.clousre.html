<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // function makeCounter(predicate){
        //     let counter = 0;

        //     return function(){
        //         counter = predicate(counter);
        //         return counter;
        //     };
        // }
        //     function increase(n){
        //         return ++n;
        //     }

        //     function decrease(n){
        //         return --n;
        //     }
        

        // const increaser = makeCounter(increase);
        // console.log(increaser());
        // console.log(increaser());

        // const decreaser = makeCounter(decrease);
        // console.log(decreaser());
        // console.log(decreaser());

        // //makeCounter 함수를 호출해 함수를 반환할 떼 반환된 함수는 자신만의 독립된 렉시컬 환경을 갖는다.
        // //연동하여 증감이 가능한 카운터를 만들렴녀 렉시컬 환경을 공유하는 클로저를 만들어야 한다.


        // // 24.5 캡슐화와 은닉 정보

        // function Person(name, age){
        //     this.name = name;
        //     let _age = age;

        //     this.sayHi = function (){
        //         console.log(`hi my name is ${this.name} i am${_age}`);
        //     };
        // }

        // const me = new Person('lee', age);
        // me.sayHi();
        // console.log(me.name);
        // console.log(me._age);


        //클로저를 사용할 때 자주 발생할 수 있는 실수를보여주는 예시
        // let func = [];
        // for(let i = 0; i<3; i++){
        //     func[i] = function(){return i;}
        // }

        // for(let j = 0; j<func.length; j++){
        //     console.log(func[j]());
        // }

        //클로저 사용을 위해 위 예제를 바르게 동작하는 코드로 변환
        // let func = [];
        // for(let i = 0; i<3; i++){
        //     func[i] = (function(id){
        //         return function(){
        //             return id;
        //         }
        //     })(i);
        // }

        // for(let j = 0; j<func.length; j++){
        //     console.log(func[j]());
        // }

        //방법 2
        // const funcs = Array.from(new Array(3), (_, i) => () => i);

        // funcs.forEach(f => console.log(f()))
    </script>
</body>
</html>